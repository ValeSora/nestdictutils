

<!DOCTYPE html>


<html lang="en" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>nestdictutils &#8212; nestdictutils  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'nestdictutils';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Getting started" href="Getting%20started.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
    
    
    
    <img src="_static/nestdictutils_logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/nestdictutils_logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="Getting%20started.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        nestdictutils
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="Getting%20started.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        nestdictutils
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">nestdictutils</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="module-nestdictutils.utils">
<span id="nestdictutils"></span><h1>nestdictutils<a class="headerlink" href="#module-nestdictutils.utils" title="Permalink to this heading">#</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_add">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_add" title="Permalink to this definition">#</a></dt>
<dd><p>Recursively add to a dictionary from a “key path”
(= sequence of keys) and the associated value.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Input dictionary.</p>
</dd>
<dt><strong>key_path</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span></dt><dd><p>The “key path” and the associated value.</p>
</dd>
<dt><strong>in_place</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code></span></dt><dd><p>Whether to modify the input dictionary in place
or return a new dictionary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Either a new dictionary (if <code class="docutils literal notranslate"><span class="pre">in_place</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>)
or <code class="docutils literal notranslate"><span class="pre">None</span></code> (if <code class="docutils literal notranslate"><span class="pre">in_place</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Add an element to the {7:8} inner dictionary and return</span>
<span class="c1"># a new dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_add</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="mi">13</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="mi">13</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Try to add a new element associated with key 7 in the</span>
<span class="c1"># {7:8} inner dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_add</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="mi">13</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">You</span> <span class="n">cannot</span> <span class="n">add</span> <span class="n">element</span> <span class="s1">&#39;13&#39;</span> <span class="n">at</span> <span class="n">position</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="n">because</span>
<span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">a</span>
<span class="n">dictionary</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_build">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_paths</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_build" title="Permalink to this definition">#</a></dt>
<dd><p>Recursively build a dictionary from “key paths”
(= sequence of keys) and their associated values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key_paths</strong><span class="classifier">any iterable of “key paths”</span></dt><dd><p>The “key paths”.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code></dt><dd><p>The dictionary built from the “key paths”.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the key paths</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">key_paths</span> <span class="o">=</span> <span class="p">(((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="p">),</span> <span class="p">((</span><span class="mi">4</span><span class="p">,),</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Build the dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_build</span><span class="p">(</span><span class="n">key_paths</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the key paths</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">key_paths</span> <span class="o">=</span> <span class="p">(((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="p">),</span> <span class="p">((</span><span class="mi">4</span><span class="p">,),</span><span class="mi">5</span><span class="p">),</span> <span class="p">((</span><span class="mi">4</span><span class="p">,),</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># Build the dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_build</span><span class="p">(</span><span class="n">key_paths</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
<span class="n">You</span> <span class="n">provided</span> <span class="n">several</span> <span class="n">instances</span> <span class="n">of</span> <span class="n">the</span> <span class="n">key</span> <span class="n">path</span> <span class="p">((</span><span class="mi">4</span><span class="p">,))</span><span class="o">.</span>
<span class="n">Only</span> <span class="p">((</span><span class="mi">4</span><span class="p">,),</span> <span class="mi">5</span><span class="p">)</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="n">when</span> <span class="n">building</span> <span class="n">the</span> <span class="n">dictionary</span><span class="o">.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_filter_dict">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_filter_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_filter_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Recursively filter a dictionary’s values. Only
values for which the filter <code class="docutils literal notranslate"><span class="pre">func</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code>
will be kept, while the others (together with their
associated keys) will be removed from the dictionary.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>The input dictionary.</p>
</dd>
<dt><strong>func</strong><span class="classifier">any callable</span></dt><dd><p>Filtering callable taking as inputs the leaf values in
the dictionary and returning <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt><strong>keys</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code>, optional</span></dt><dd><p>List of specific keys on whose values the filtering
should be performed. This means that all values associated
with keys different from those in the list will not be
affected. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all keys and associated values
will be considered.</p>
</dd>
<dt><strong>in_place</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code></span></dt><dd><p>Whether to modify the input dictionary in place
or return a new dictionary.</p>
</dd>
<dt><strong>permissive</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code></span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">func</span></code> cannot be applied to some
values, return the dictionary with those values untouched.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">False</span></code>, raise an error if <code class="docutils literal notranslate"><span class="pre">func</span></code> cannot be
applied to some values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code></dt><dd><p>A dictionary where the filtering has been
recursively performed.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>

<span class="c1"># Define a function to filter out all values strictly</span>
<span class="c1"># lower than 4</span>
<span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">4</span>

<span class="c1"># Filter the dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">map_dict</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">in_place</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}</span>

<span class="c1"># Note that values lower than 4 are still kept as keys,</span>
<span class="c1"># and only removed if they are values</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">]},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>

<span class="c1"># Define a function to filter out all values strictly</span>
<span class="c1"># lower than 4</span>
<span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">4</span>

<span class="c1"># Filter the dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">map_dict</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">in_place</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">4</span>
                  <span class="o">^^^^^</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="s1">&#39;&gt;&#39;</span> <span class="ow">not</span> <span class="n">supported</span> <span class="n">between</span> <span class="n">instances</span> <span class="n">of</span> <span class="s1">&#39;list&#39;</span>
<span class="ow">and</span> <span class="s1">&#39;int&#39;</span>

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span>
<span class="n">exception</span><span class="p">:</span>

<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>

    <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_filter_dict</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">in_place</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">errstr</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
<span class="ne">Exception</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">apply</span> <span class="n">the</span> <span class="n">function</span> <span class="n">to</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_get_key_paths">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_get_key_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_get_key_paths" title="Permalink to this definition">#</a></dt>
<dd><p>Get a list of “key paths” (= sequences of keys) to access
a specific value inside the dictionary. If the value is present
only once inside the dictionary, the output list will contain
only one element.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Input dictionary.</p>
</dd>
<dt><strong>value</strong><span class="classifier">any object apart from <code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Value whose “key paths” will be reported.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">list</span></code></dt><dd><p>List of “key paths”.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Get the &quot;key paths&quot; to the value 7</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_get_key_paths</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="p">[([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">7</span><span class="p">),</span> <span class="p">([</span><span class="mi">6</span><span class="p">],</span> <span class="mi">7</span><span class="p">),</span> <span class="p">([],</span> <span class="mi">7</span><span class="p">)]</span>

<span class="c1"># Note that the last &quot;key path&quot; is empty because</span>
<span class="c1"># 7 is a key of the outer dictionary  </span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_get_values_from_key">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_get_values_from_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_get_values_from_key" title="Permalink to this definition">#</a></dt>
<dd><p>Given a key, returns a list of all values in the dictionary
associated with it. Since the dictionary may be nested, the
same key could be found at different levels. In this case, the
list will contains all values the key has been found associated
with.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Input dictionary.</p>
</dd>
<dt><strong>key</strong><span class="classifier">any immutable object</span></dt><dd><p>Key of interest.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">list</span></code></dt><dd><p>List of values associated with the key of interest.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">}}}</span>

<span class="c1"># Get all values associated with the key 3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_get_values_from_key</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">[{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_get_values_from_keys">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_get_values_from_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_get_values_from_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Given a set of keys, returns a list of all values in the
dictionary associated with them (since it may be a nested
dictionary, the same key could be found at different levels).</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Input dictionary.</p>
</dd>
<dt><strong>keys</strong><span class="classifier">an iterable of immutable objects</span></dt><dd><p>Keys of interest.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code></dt><dd><p>Dictionary of values associated with the corresponding
keys of interest.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">}}}</span>

<span class="c1"># Get all values associated with the keys 3 and 6</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_get_values_from_keys</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">[{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">}],</span> <span class="mi">6</span><span class="p">:</span> <span class="p">[{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">}}]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_iter_key_paths">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_iter_key_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_iter_key_paths" title="Permalink to this definition">#</a></dt>
<dd><p>Recursively iterate over a dictionary and return a list
of tuples containing the “key path” (= sequence of keys)
to reach each point in the dictionary and the value that
each “key path” leads to.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Input dictionary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">generator</span></code></dt><dd><p>Generator of “key paths”.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Get the &quot;key paths&quot; for all items in the dictionary</span>
<span class="c1"># and list them</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_iter_key_paths</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<span class="p">[([</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span> <span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">5</span><span class="p">),</span> <span class="p">([</span><span class="mi">3</span><span class="p">],</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">}),</span> <span class="p">([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">8</span><span class="p">),</span>
<span class="p">([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">}),</span> <span class="p">([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">10</span><span class="p">),</span> <span class="p">([</span><span class="mi">6</span><span class="p">],</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">}),</span>
<span class="p">([</span><span class="mi">7</span><span class="p">],</span> <span class="mi">11</span><span class="p">)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_map_dict">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_map_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_map_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Recursively traverse a dictionary mapping a function to the
dictionary’s leaf values (= substituting the values
which the return value of the function applied to those
values).</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>The input dictionary.</p>
</dd>
<dt><strong>func</strong><span class="classifier">any callable</span></dt><dd><p>Callable taking as inputs the leaf values of the dictionary
and returning a value which will take the dictionary’s
place.</p>
</dd>
<dt><strong>keys</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code>, optional</span></dt><dd><p>List of specific keys on whose items the mapping
should be performed. This means that all values associated
with keys different from those in the list will not be
affected. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all keys and associated values
will be considered.</p>
</dd>
<dt><strong>in_place</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code></span></dt><dd><p>Whether to modify the input dictionary in place
or return a new dictionary.</p>
</dd>
<dt><strong>permissive</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code></span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">func</span></code> cannot be applied to some
values, return the dictionary with those values untouched.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">False</span></code>, raise an error if <code class="docutils literal notranslate"><span class="pre">func</span></code> cannot be
applied to some values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code></dt><dd><p>A dictionary where the mapping has been recursively
performed.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Define a function to raise all values to the power of two</span>
<span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="c1"># Raise all values to the power of two</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">map_dict</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">in_place</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Define a function to raise all values to the power of two</span>
<span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="c1"># Raise all values to the power of two</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">map_dict</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">in_place</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
                  <span class="o">~^^~</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">unsupported</span> <span class="n">operand</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="o">**</span> <span class="ow">or</span> <span class="nb">pow</span><span class="p">():</span>
<span class="s1">&#39;list&#39;</span> <span class="ow">and</span> <span class="s1">&#39;int&#39;</span>

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span>
<span class="n">exception</span><span class="p">:</span>

<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>

    <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">map_dict</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">in_place</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
            <span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">errstr</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
<span class="ne">Exception</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">apply</span> <span class="n">the</span> <span class="n">function</span> <span class="n">to</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_merge_dicts">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_merge_dicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dicts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_merge_dicts" title="Permalink to this definition">#</a></dt>
<dd><p>Merge two nested dictionaries.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>dicts</strong><span class="classifier">iterable of <cite>dict</cite></span></dt><dd><p>Iterable of dictionaries to be merged.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>``merged_d``</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">collections.defaultict</span></code></span></dt><dd><p>Merged dictionary.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If an identical key at an identical position is found in
any two or more input dictionaries, the value in the dictionary
that comes first in the iterable will be reported in the
merged dictionary.</p>
<p>If the value associated to the key in two or more input
dictionaries is a dictionary, the key/value pairs from all these
dictionaries will be reported in the merged dictionary.</p>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Create a second nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d2</span> <span class="o">=</span> <span class="p">{</span><span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="mi">15</span><span class="p">:</span> <span class="mi">16</span><span class="p">},</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>

<span class="c1"># Merge the two dictionaries</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_merge_dicts</span><span class="p">([</span><span class="n">d</span><span class="p">,</span> <span class="n">d2</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="mi">15</span><span class="p">:</span> <span class="mi">16</span><span class="p">}}</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Create a second nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d2</span> <span class="o">=</span> <span class="p">{</span><span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="mi">15</span><span class="p">:</span> <span class="mi">16</span><span class="p">},</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">17</span><span class="p">:</span> <span class="mi">18</span><span class="p">}}</span>

<span class="c1"># Create a third nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d3</span> <span class="o">=</span> <span class="p">{</span><span class="mi">6</span> <span class="p">:</span> <span class="p">{</span><span class="mi">3</span> <span class="p">:</span> <span class="p">{</span><span class="mi">9</span><span class="p">:</span><span class="mi">10</span><span class="p">}}}</span>

<span class="c1"># Merge the three dictionaries</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_merge_dicts</span><span class="p">([</span><span class="n">d</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">d3</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">17</span><span class="p">:</span> <span class="mi">18</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
<span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">:</span> <span class="p">{</span><span class="mi">15</span><span class="p">:</span> <span class="mi">16</span><span class="p">}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_pop">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_pop" title="Permalink to this definition">#</a></dt>
<dd><p>Recursively remove specific keys (and the
associated values) from a dictionary.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Input dictionary.</p>
</dd>
<dt><strong>keys</strong><span class="classifier">an iterable of immutable objects</span></dt><dd><p>The keys to be removed.</p>
</dd>
<dt><strong>in_place</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code></span></dt><dd><p>Whether to modify the input dictionary in place
or return a new dictionary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Either a new dictionary (if <code class="docutils literal notranslate"><span class="pre">in_place</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>)
or <code class="docutils literal notranslate"><span class="pre">None</span></code> (if <code class="docutils literal notranslate"><span class="pre">in_place</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Remove keys 3 and 7 and associated values</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_pop</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{}}</span>

<span class="c1"># Note that all occurrences of the keys have been removed</span>
<span class="c1"># from the dictionary, not just their outermost instances      </span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_remove">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_remove" title="Permalink to this definition">#</a></dt>
<dd><p>Recursively remove a value in a dictionary given its
“key path” (= sequence of keys) in the dictionary.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Input dictionary.</p>
</dd>
<dt><strong>key_path</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span></dt><dd><p>The “key path” and the associated value.</p>
</dd>
<dt><strong>in_place</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code></span></dt><dd><p>Whether to modify the input dictionary in place
or return a new dictionary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Either a new dictionary (if <code class="docutils literal notranslate"><span class="pre">in_place</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>)
or <code class="docutils literal notranslate"><span class="pre">None</span></code> (if <code class="docutils literal notranslate"><span class="pre">in_place</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">KeyError</span></code></dt><dd><p>If the “key path” is not found in the input dictionary.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></dt><dd><p>If the “key path” is found in the input dictionary, but
it is associated to a value different from the one
provided.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Remove element 11 in the outer dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_remove</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">((</span><span class="mi">7</span><span class="p">,),</span> <span class="mi">11</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}</span>

<span class="c1"># Note how also the associated key has been removed from the</span>
<span class="c1"># dictionary</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Remove element 5 in the inner dictionary {4: 5}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_remove</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Note how also the associated key has been removed from the</span>
<span class="c1"># dictionary</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Try to remove element 5 given a nonexistent path (3, 6)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_remove</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="ne">KeyError</span><span class="p">:</span> <span class="s1">&#39;The key path (3, 6) does not exist.&#39;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Try to remove a nonexistent element 6 from the inner</span>
<span class="c1"># dictionary {4: 5}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_remove</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">6</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">The</span> <span class="n">key</span> <span class="n">path</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="n">was</span> <span class="n">found</span><span class="p">,</span> <span class="n">but</span> <span class="n">its</span> <span class="n">associated</span> <span class="n">value</span>
<span class="ow">in</span> <span class="n">the</span> <span class="n">provided</span> <span class="n">key</span> <span class="n">path</span> <span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">correspond</span> <span class="n">to</span> <span class="n">the</span> <span class="n">one</span> <span class="n">found</span>
<span class="ow">in</span> <span class="n">the</span> <span class="n">dictionary</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nestdictutils.utils.recursive_replace">
<span class="sig-prename descclassname"><span class="pre">nestdictutils.utils.</span></span><span class="sig-name descname"><span class="pre">recursive_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nestdictutils.utils.recursive_replace" title="Permalink to this definition">#</a></dt>
<dd><p>Recursively replace a value in a dictionary from a
“key path” (= sequence of keys) and the associated value.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>d</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict</span></code></span></dt><dd><p>Input dictionary.</p>
</dd>
<dt><strong>key_path</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span></dt><dd><p>The “key path” and the associated value.</p>
</dd>
<dt><strong>in_place</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">bool</span></code>, default: <code class="docutils literal notranslate"><span class="pre">False</span></code></span></dt><dd><p>Whether to modify the input dictionary in place
or return a new dictionary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Either a new dictionary (if <code class="docutils literal notranslate"><span class="pre">in_place</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>)
or <code class="docutils literal notranslate"><span class="pre">None</span></code> (if <code class="docutils literal notranslate"><span class="pre">in_place</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a nested dictionary</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>

<span class="c1"># Replace element 5 in the {4: 5} inner dictionary</span>
<span class="c1"># with 4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span> <span class="o">=</span> <span class="n">nestdictutils</span><span class="o">.</span><span class="n">recursive_replace</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">4</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_d</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span> <span class="mi">6</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="mi">7</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="Getting%20started.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Getting started</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_add"><code class="docutils literal notranslate"><span class="pre">recursive_add()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_build"><code class="docutils literal notranslate"><span class="pre">recursive_build()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_filter_dict"><code class="docutils literal notranslate"><span class="pre">recursive_filter_dict()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_get_key_paths"><code class="docutils literal notranslate"><span class="pre">recursive_get_key_paths()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_get_values_from_key"><code class="docutils literal notranslate"><span class="pre">recursive_get_values_from_key()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_get_values_from_keys"><code class="docutils literal notranslate"><span class="pre">recursive_get_values_from_keys()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_iter_key_paths"><code class="docutils literal notranslate"><span class="pre">recursive_iter_key_paths()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_map_dict"><code class="docutils literal notranslate"><span class="pre">recursive_map_dict()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_merge_dicts"><code class="docutils literal notranslate"><span class="pre">recursive_merge_dicts()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_pop"><code class="docutils literal notranslate"><span class="pre">recursive_pop()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_remove"><code class="docutils literal notranslate"><span class="pre">recursive_remove()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nestdictutils.utils.recursive_replace"><code class="docutils literal notranslate"><span class="pre">recursive_replace()</span></code></a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="_sources/nestdictutils.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner"></div>
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, Valentina Sora.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://sphinx-doc.org/">Sphinx</a> 6.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>